<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–°–º–µ–Ω–∞ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://hcaptcha.com/1/api.js" async defer></script>
        <style>
            .dark-theme {
                background-color: #1a1a2e !important;
                color: #e0e0ff !important;
            }
            .dark-theme .bg-white {
                background-color: #2c2c4c !important;
            }
            .dark-theme input,
            .dark-theme button {
                background-color: #3a3a5c !important;
                color: #e0e0ff !important;
                border-color: #4a4a6a !important;
            }
            .dark-theme .bg-gray-200 {
                background-color: #4a4a6a !important;
                color: #e0e0ff !important;
            }
        </style>
    </head>
    <body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
        <div
            class="container w-full max-w-md bg-white shadow-md rounded-lg p-6"
        >
            <button
                onclick="toggleTheme()"
                class="theme-toggle absolute top-4 right-4 p-2 bg-gray-200 dark:bg-gray-700 rounded-full shadow hover:bg-gray-300 dark:hover:bg-gray-600 transition"
            >
                üåì
            </button>
            <h2 class="text-2xl font-semibold text-center mb-6">
                –°–º–µ–Ω–∞ –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è
            </h2>
            <form action="/change_credentials" method="POST" class="space-y-4">
                <div>
                    <label
                        for="username"
                        class="block text-sm font-medium text-gray-700"
                        >–ù–æ–≤—ã–π –ª–æ–≥–∏–Ω</label
                    >
                    <input
                        type="text"
                        id="username"
                        name="username"
                        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ª–æ–≥–∏–Ω"
                        required
                    />
                </div>
                <div>
                    <label
                        for="password"
                        class="block text-sm font-medium text-gray-700"
                        >–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label
                    >
                    <input
                        type="password"
                        id="password"
                        name="password"
                        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300"
                        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                        required
                    />
                </div>
                <div>
                    <label
                        for="confirm_password"
                        class="block text-sm font-medium text-gray-700"
                        >–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label
                    >
                    <input
                        type="password"
                        id="confirm_password"
                        name="confirm_password"
                        class="w-full p-2 border rounded-lg focus:outline-none focus:ring focus:border-blue-300"
                        placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                        required
                    />
                </div>
                <div class="h-captcha" data-sitekey="{{ sitekey }}"></div>
                <button
                    type="submit"
                    class="w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition"
                >
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </button>
            </form>
        </div>
        <script>
            function toggleTheme() {
                document.body.classList.toggle("dark-theme");
                localStorage.setItem(
                    "theme",
                    document.body.classList.contains("dark-theme")
                        ? "dark"
                        : "light"
                );
            }
            document.addEventListener("DOMContentLoaded", () => {
                const savedTheme = localStorage.getItem("theme");
                if (savedTheme === "dark") {
                    document.body.classList.add("dark-theme");
                }
            });
        </script>
    </body>
</html>
